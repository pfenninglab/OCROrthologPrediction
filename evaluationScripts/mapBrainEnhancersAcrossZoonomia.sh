# Map mouse training and validation set enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseNonTestNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainNonTestHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainNonTestHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainNonTestHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/nonTestPredictionsFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictions.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/nonTestPredictionsGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsGlires.txt

# Make predictions on the mouse validation set using the mouse-only model
grep -P 'chr8|chr9' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_withPeakNames.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_withPeakNames.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeFilterPeakNameScript.py --unfilteredPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseNonTestNarrowPeakFileNamesFiltConverted.txt --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_withPeakNames.bed --peakNameCol 3 --outputFileNameSuffix mouseValid.bed --numFileNameElementsToRemove 3 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakNameMouseBrainValidHugeCactusScript.sh --codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakNameMouseBrainValidHugeCactusScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_*_summitExtendedMin50Max1000Protect5*.mouseValid.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_withPeakNames.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhLoosePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_euarchontaglireEnhLooseNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhLoosePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_euarchontaglireEnhLooseNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_peakPredictions.txt # Filtered correlation (Pearson, Spearman): -0.7251*, -0.1399*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.8458*, -0.5366*

# Make predictions on the mouse validation set using the mouse-only model with flanking regions as negative set
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsFlankPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_flankNeg_500bp_conv5MuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsFlankPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_flankNeg_500bp_conv5MuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusFlankScript.sh --predictedClassesFileNameSuffix flankNeg_predictedClasses.txt --predictedProbaFileNameSuffix flankNeg_predictedProba.txt
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusFlankScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusFlankScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsFlankFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_flankNeg_peakPredictions.txt # Filtered correlation (Pearson, Spearman): -0.7793*, -0.5612*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsFlankGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_flankNeg_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.8720*, -0.5772*

# Make predictions on the mouse validation set using the mouse-only model with enhancers from other non-cortex/striatum tissues as negative set
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsNonCerebrumMouseTissuePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_nonCerebrumMouseTissueNeg_500bp_conv5MuchMoreFiltNoInterPoolVeryHighMomL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsNonCerebrumMouseTissuePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_nonCerebrumMouseTissueNeg_500bp_conv5MuchMoreFiltNoInterPoolVeryHighMomL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusNonCerebrumTissueScript.sh --predictedClassesFileNameSuffix nonCerebrumMouseTissueNeg_predictedClasses.txt --predictedProbaFileNameSuffix nonCerebrumMouseTissueNeg_predictedProba.txt
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusNonCerebrumTissueScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusNonCerebrumTissueScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsNonCerebrumTissueFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_nonCerebrumMouseTissueNeg_peakPredictions.txt # Filtered correlation (Pearson, Spearman): -0.5964*, -0.3883*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsNonCerebrumTissueGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_nonCerebrumMouseTissueNeg_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.8737*, -0.6835*

# Make predictions on the mouse validation set using the mouse-only model with 10X G/C-matched regions as negative set
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsRandomGCRepeat10XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_RandomGCRepeat10XNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsRandomGCRepeat10XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_RandomGCRepeat10XNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusRandomGC10XScript.sh --predictedClassesFileNameSuffix RandomGCRepeat10XNeg_predictedClasses.txt --predictedProbaFileNameSuffix RandomGCRepeat10XNeg_predictedProba.txt
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusRandomGC10XScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusRandomGC10XScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsRandomGC10XFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_RandomGCRepeat10XNeg_peakPredictions.txt # Filtered correlation (Pearson, Spearman): -0.6843*, -0.5375*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsRandomGC10XGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_RandomGCRepeat10XNeg_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.9201*, -0.6898*

# Make predictions on the mouse validation set using the mouse-only model with 2X G/C-matched regions as negative set
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsRandomGCRepeat2XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_RandomGCRepeatNonEnhRatioXNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsRandomGCRepeat2XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_RandomGCRepeatNonEnhRatioXNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusRandomGC2XScript.sh --predictedClassesFileNameSuffix RandomGCRepeat2XNeg_predictedClasses.txt --predictedProbaFileNameSuffix RandomGCRepeat2XNeg_predictedProba.txt
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusRandomGC2XScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusRandomGC2XScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsRandomGC2XFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_RandomGCRepeat2XNeg_peakPredictions.txt # Filtered correlation (Pearson, Spearman): -0.7613*, -0.5100*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsRandomGC2XGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_RandomGCRepeat2XNeg_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.9151*, -0.6645*

# Make predictions on the mouse validation set using the mouse-only model with 10X dinucleotide-shuffled regions as negative set
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsDiShuf10XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_DiShuf10XNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerNonCDSVsDiShuf10XPeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_DiShuf10XNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseValidNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusDiShuf10XScript.sh --predictedClassesFileNameSuffix DiShuf10XNeg_predictedClasses.txt --predictedProbaFileNameSuffix DiShuf10XNeg_predictedProba.txt
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainValidHugeCactusDiShuf10XScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainValidHugeCactusDiShuf10XScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsDiShuf10XFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_DiShuf10XNeg_peakPredictions.txt # Filtered correlation (Pearson, Spearman):  -0.7840*, -0.5565*
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/validPredictionsDiShuf10XGliresFileNames.txt --baseSpeciesLine 35 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_valid_DiShuf10XNeg_peakPredictionsGlires.txt # Filtered correlation (Pearson, Spearman): -0.9343*, -0.7508*

# Map all mouse enhancers across Zoonomia
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertOrthologFindToNarrowPeakMouseBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBrainHugeCactusGenBankToRefSeqScript.sh
intersectBed -wa -u -F 1 -f 1 -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames.bed -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort.narrowPeak.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_Felis_catus_summitExtendedMin50Max1000Protect5.narrowPeak.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_Felis_catus_summitExtendedMin50Max1000Protect5_UCSCNames.narrowPeak.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_Sus_scrofa_summitExtendedMin50Max1000Protect5.narrowPeak.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_Sus_scrofa_summitExtendedMin50Max1000Protect5_UCSCNames.narrowPeak.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeFilterPeakNameScript.py --unfilteredPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseNarrowPeakFileNamesFiltConverted.txt --unfilteredPeakNameCol 3 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed --peakNameCol 3 --outputFileNameSuffix mouseBrain.bed --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakNameMouseBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakNameMouseBrainHugeCactusScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_*_summitExtendedMin50Max1000Protect5*.mouseBrain.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhLoosePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_euarchontaglireEnhLooseNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhLoosePeakLessThan1kb500bp_data_train.KerasModels/hybrid_brainEnhancerShort_euarchontaglireEnhLooseNeg_500bp_conv5MuchMuchMoreFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseBrainNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainHugeCactusScript.sh # Mouse-only model
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/predictionsFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/liftedPeakMouseBrainNarrowPeakFileNamesFiltConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainHugeCactusMultiSpeciesModelScript.sh --predictedClassesFileNameSuffix multiSpeciesModel_predictedClasses.txt --predictedProbaFileNameSuffix multiSpeciesModel_predictedProba.txt # Multi-species model
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMouseBrainHugeCactusMultiSpeciesModelScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMouseBrainHugeCactusMultiSpeciesModelScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/predictionsMultiSpeciesModelFileNames.txt --baseSpeciesLine 0 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_multiSpeciesModel_peakPredictions.txt

# Get predictions for non-restrictive glires-specific peaks
zcat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed.gz | awk 'BEGIN{OFS="\t"} {print $1, $2+$10-250, $2+$10+250, $4}' > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_summitPlusMinus250bp.bed
zcat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrainLoose_nonHumanBrain_nonMacaqueBrain.bed.gz | awk 'BEGIN{OFS="\t"} {print $1, $2+$10-250, $2+$10+250, $4}' > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrainLoose_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed
intersectBed -wa -F 1 -f 1 -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_summitPlusMinus250bp.bed -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrainLoose_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_inRatBrainLoose_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_inRatBrainLoose_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed --peakNameCol 3 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions_gliresSpecific.txt

# Get predictions for glires-specific peaks
zcat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrain_nonHumanBrain_nonMacaqueBrain.bed.gz | awk 'BEGIN{OFS="\t"} {print $1, $2+$10-250, $2+$10+250, $4}' > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrain_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed
intersectBed -wa -F 1 -f 1 -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_summitPlusMinus250bp.bed -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_inRatBrain_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_inRatBrain_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_inRatBrain_nonHumanBrain_nonMacaqueBrain_summitPlusMinus250bp.bed --peakNameCol 3 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions_gliresSpecificStrict.txt

# Map rat enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/RatAtac/M1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort.bed --querySpecies Rattus_norvegicus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverRatEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/RatAtac/M1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_summits.bed --querySpecies Rattus_norvegicus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverRatEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverRatEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverRatEnhancersSummitsScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/RatAtac/M1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/RatAtac/M1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_LiftedPeakFileNames.bed -sFileListFileName /pylon5/mc5pihp/ikaplow/RatAtac/M1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_LiftedSummitFileNames.bed -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindRatEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindRatEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesRatBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesRatBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesRatBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesRatBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_*_summitExtendedMin50Max2XProtect5*.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Sus_scrofa_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Sus_scrofa_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictRatBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictRatBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictRatBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/predictionsFileNames.txt --baseSpeciesLine 198 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, and rat
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/MiddleFrontalGyrus_DNase_out/out/peak/macs2/idr/optimal_set/HumanMiddleFrontalGyrusDNase_ppr.IDR0.1.filt_inAllMouseMatchedBrainRegions_enhancerShort_mouseNonTest_LiftedPeaks/HumanMiddleFrontalGyrusDNase_ppr.IDR0.1.filt_inAllMouseMatchedBrainRegions_enhancerShort_mouseNonTest_peakHumanMouseMacaquePredictions_mouseFirst.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/M1/cromwell-executions/atac/38f81af9-2d2d-4cea-8134-2fc474640643/call-reproducibility_idr/execution/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_GeneBankNames_LiftedPeaks/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_peakHumanMouseMacaquePredictions_mouseFirst.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRat.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRat.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRat_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/predictionsFileNames_Boreoeutheria.txt

# Map bat enhancers across Zoonomia
awk 'BEGIN{OFS="\t"} {print $1, $2+$10, $2+$10+1, $4}' /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames.bed > /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_summits.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames.bed --querySpecies Rousettus_aegyptiacus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverBatEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_summits.bed --querySpecies Rousettus_aegyptiacus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverBatEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverBatEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverBatEnhancersSummitsScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_LiftedPeakFileNames.bed -sFileListFileName /pylon5/mc5pihp/ikaplow/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_LiftedSummitFileNames.bed -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindBatEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindBatEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBatBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBatBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBatBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesBatBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_*_summitExtendedMin50Max2XProtect5*.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_Sus_scrofa_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_SequenceNames_Sus_scrofa_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/LiftedPeaks/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictBatBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictBatBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictBatBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/predictionsFileNames.txt --baseSpeciesLine 202 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, rat, and bat
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/MiddleFrontalGyrus_DNase_out/out/peak/macs2/idr/optimal_set/HumanMiddleFrontalGyrusDNase_ppr.IDR0.1.filt_inAllMouseMatchedBrainRegions_enhancerShort_mouseNonTest_LiftedPeaks/HumanMiddleFrontalGyrusDNase_ppr.IDR0.1.filt_inAllMouseMatchedBrainRegions_enhancerShort_mouseNonTest_peakHumanMouseMacaquePredictions_mouseFirst.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/M1/cromwell-executions/atac/38f81af9-2d2d-4cea-8134-2fc474640643/call-reproducibility_idr/execution/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_GeneBankNames_LiftedPeaks/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_peakHumanMouseMacaquePredictions_mouseFirst.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRatBat.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRatBat.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanMacaqueRatBat_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/predictionsFileNames_Boreoeutheria.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat.bed.gz --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_predictedProba.txt --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_nonEdge.bed

# Map revised human enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed --querySpecies Homo_sapiens --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverHumanEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_summits.bed --querySpecies Homo_sapiens --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverHumanEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverHumanEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverHumanEnhancersSummitsScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_LiftedFileNames.txt -sFileListFileName /pylon5/mc5pihp/ikaplow/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_LiftedSummitFileNames.txt -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindHumanEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindHumanEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesHumanBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesHumanBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesHumanBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesHumanBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_*_summitExtendedMin50Max2XProtect5*.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Sus_scrofa_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Sus_scrofa_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictHumanBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictHumanBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictHumanBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/predictionsFileNames.txt --baseSpeciesLine 101 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt

# Get predictions for non-restrictive euarchonta-specific peaks
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/optimal_peak.inStriatum_nonCDS_enhancerShort_inMacaqueBrainLoose_nonMouseBrain_nonRatBrain.bed --peakNameCol 3 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_euarchontaSpecific.txt

# Get predictions for euarchonta-specific peaks
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/optimal_peak.inStriatum_nonCDS_enhancerShort_inMacaqueBrain_nonMouseBrain_nonRatBrain.bed --peakNameCol 3 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_euarchontaSpecificStrict.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, rat, and bat, where human data comes from revised human peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/M1/cromwell-executions/atac/38f81af9-2d2d-4cea-8134-2fc474640643/call-reproducibility_idr/execution/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_GeneBankNames_LiftedPeaks/optimal_peak_inOfMAndStriatum_enhancerShort_mouseNonTest_peakHumanMouseMacaquePredictions_mouseFirst.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaqueRatBat.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaqueRatBat.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaqueRatBat_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/predictionsFileNames_Boreoeutheria.txt

# Remove human peaks whose mouse orthologs overlap mouse peaks
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed.gz --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_nonMouseBrain.bed

# Map revised macaque enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames.bed --querySpecies Macaca_mulatta --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverMacaqueEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_summits.bed --querySpecies Macaca_mulatta --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverMacaqueEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverMacaqueEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverMacaqueEnhancersSummitsScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_LiftedFileNames.txt -sFileListFileName /pylon5/mc5pihp/ikaplow/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_LiftedSummitFileNames.txt -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindMacaqueEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindMacaqueEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesMacaqueBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesMacaqueBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesMacaqueBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesMacaqueBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_*_summitExtendedMin50Max2XProtect5*.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_RefSeqNames.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Sus_scrofa_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Sus_scrofa_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMacaqueBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictMacaqueBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictMacaqueBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/predictionsFileNames.txt --baseSpeciesLine 118 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt

# Remove macaque peaks whose mouse orthologs overlap mouse peaks or human orthologs overlap human peaks
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Mus_musculus_summitExtendedMin50Max2XProtect5.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions_nonMouseBrain.txt
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Homo_sapiens_summitExtendedMin50Max2XProtect5.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Homo_sapiens_summitExtendedMin50Max2XProtect5_inHumanBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions_nonMouseBrain.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_Homo_sapiens_summitExtendedMin50Max2XProtect5_inHumanBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions_nonMouseBrain_nonHumanBrain.txt

# Remove rat peaks whose mouse orthologs overlap mouse, human, or macaque peaks
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Mus_musculus_summitExtendedMin50Max2XProtect5_inMouseBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain.txt
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Homo_sapiens_summitExtendedMin50Max2XProtect5.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort.bed.gz > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Homo_sapiens_summitExtendedMin50Max2XProtect5_inHumanBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Homo_sapiens_summitExtendedMin50Max2XProtect5_inHumanBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain_nonHumanBrain.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Macaca_mulatta_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueGenome/GenbankNameToChromNameRheMac8.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Macaca_mulatta_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
intersectBed -wa -u -a /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Macaca_mulatta_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz -b /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Macaca_mulatta_summitExtendedMin50Max2XProtect5_UCSCNames_inMacaqueBrain.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain_nonHumanBrain.txt --unfilteredPeakNameCol 0 --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_Macaca_mulatta_summitExtendedMin50Max2XProtect5_UCSCNames_inMacaqueBrain.bed --peakNameCol 3 --removePeaks --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain_nonHumanBrain_nonMacaqueBrain.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, rat, and bat, where human and macaque data come from revised human and macaque peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRatBat.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRatBat.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRatBat_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/predictionsFileNames_Boreoeutheria.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, and rat, where human and macaque data come from revised human and macaque peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_multiSpeciesModel_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRat.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRat.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_LiftedPeaks/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_peakPredictionsHumanMouseMacaque_peaksMouseHumanPlusMacaquePlusRat_Boreoeutheria.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, and rat, where human, macaque, and rat data have been filtered so that there are no overlapping orthologs
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions_nonMouseBrain_nonHumanBrain.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions_nonMouseBrain_nonHumanBrain_nonMacaqueBrain.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictionsMouseHumanMacaqueRat_peaksMouseHumanMacaqueRatFilt.txt
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly.bed.gz --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/gliresSpecificPeakNamesMouse.txt --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_predictedGliresSpecificMouse.bed
cut -f1-3 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_predictedGliresSpecificMouse.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_orLiver_withPeakNames_brainOnly_predictedGliresSpecificMouse_3Col.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/filterPeakName.py --unfilteredPeakFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_nonMouseBrain.bed --peakListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/euarchontaSpecificPeakNamesHumanNonMouse.txt --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_nonMouseBrain_predictedEuarchontaSpecificHumanNonMouse.bed
cut -f1-3 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_nonMouseBrain_predictedEuarchontaSpecificHumanNonMouse.bed > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_nonMouseBrain_predictedEuarchontaSpecificHumanNonMouse_3Col.bed

# Map pig enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort.bed --chromNameDictFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --chromNameDictReverse --outputFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed
awk 'BEGIN{OFS="\t"} {print $1,$2+$10,$2+$10+1,$4}' /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed > /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_summits.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed --querySpecies Sus_scrofa --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverPigEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_summits.bed --querySpecies Sus_scrofa --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverPigEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverPigEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverPigEnhancersSummitsScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_LiftedFileNames.txt -sFileListFileName /pylon5/mc5pihp/ikaplow/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_LiftedSummitFileNames.txt -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindPigEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindPigEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesPigBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesPigBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesPigBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesPigBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_*_summitExtendedMin50Max2XProtect5*.bed
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictPigBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictPigBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/predictPigBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/predictionsFileNames.txt --baseSpeciesLine 214 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, rat, bat, and pig where human and macaque data come from revised human and macaque peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPig.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPig.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPig_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/predictionsFileNames_Boreoeutheria.txt

# Map cow enhancers across Zoonomia
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort.narrowPeak.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqName_Bos_taurus.txt --chromNameDictReverse --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak.gz
zcat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak.gz | awk 'BEGIN{OFS="\t"} {print $1,$2+$10,$2+$10+1,$4}' > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_summits.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak.gz --querySpecies Bos_taurus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --gz --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverCowEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeRunHalLiftoverSingleBedScript.py --bedFileName /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames_summits.bed --querySpecies Bos_taurus --speciesToLiftFileName /pylon5/mc5pihp/ikaplow/200MammalsFastas/200m-assemblies_speciesNames.txt --CactusFileName /pylon5/mc5pihp/ikaplow/mam200/alignment_files/200m-v1.hal --halLiftoverPath /pylon5/mc5pihp/ikaplow/hal/bin --numInputFilePartsToRemoveForOutput 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverCowEnhancersSummitsScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverCowEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runHalLiftoverCowEnhancersSummitsScript.sh
zcat /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak.gz > /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing/makeOrthologFindSingleBedScript.py -max_frac 2 -protect_dist 5 -min_len 50 -qFile /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.bed -tFileListFileName /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_LiftedFileNames.txt -sFileListFileName /pylon5/mc5pihp/ikaplow/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_LiftedSummitFileNames.txt -oFileNameSuffix summitExtendedMin50Max2XProtect5.bed -narrowPeak -codePath /home/ikaplow/RegulatoryElementEvolutionProject/src/halLiftover-postprocessing -scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindCowEnhancersScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/runOrthologFindCowEnhancersScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/liftedPeakFileNamesSequence-Name.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/SequenceNameToGenbankNameDictFileNames.txt --outputFileNameSuffix GenBankNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesCowBrainHugeCactusSequenceNameToGenBankScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesCowBrainHugeCactusSequenceNameToGenBankScript.sh
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makeConvertChromNamesScript.py --bedFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/liftedPeakFileNamesGenBank.txt --chromNameDictFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToRefseqNameDictFileNames.txt --outputFileNameSuffix RefSeqNames.bed --numFileNameElementsToRemove 1 --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesCowBrainHugeCactusGenBankToRefSeqScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNamesCowBrainHugeCactusGenBankToRefSeqScript.sh
gzip /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames*_summitExtendedMin50Max2XProtect5*.bed
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak_Felis_catus_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Felis_catus.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak_Felis_catus_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/convertChromNames.py --bedFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak_Sus_scrofa_summitExtendedMin50Max2XProtect5.bed.gz --chromNameDictFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/GenbankToUCSCName_Sus_scrofa.txt --gzip --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak_nonCDS_enhancerShort_GenBankNames.narrowPeak_Sus_scrofa_summitExtendedMin50Max2XProtect5_UCSCNames.bed.gz
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/makePredictNewSequencesNoEvaluationScript.py --architectureFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal_architecture.json --weightsFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/brainEnhancerVsOtherEuarchontaglireEnhMouseHumanMacaqueRatPeakLessThan1kb_data_train.KerasModels/hybrid_brainEnhancerShort_humanMouseMacaqueRat_euarchontaglireEnhLooseNeg_500bp_conv5MostFiltNoInterPoolVeryHighMomHighLRL2SmallBatchPretrainBal.hdf5 --narrowPeakFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/liftedPeakFileNamesConverted.txt --genomeFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/200MammalsAssembliesFileNamesFilt.txt --chromSizesFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/200MammalsFastas/chromSizesFileNames.txt --classification --scriptFileName /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictCowBrainHugeCactusScript.sh
sh /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictCowBrainHugeCactusScript.sh 2> /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/predictCowBrainHugeCactusScript.e
python /home/ikaplow/RegulatoryElementEvolutionProject/src/RegElEvoCode/gatherPeakPredictionsAcrossSpecies.py --predictionsFileNameListFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/predictionsFileNames.txt --baseSpeciesLine 20 --outputFileName /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt

# Combine predictions for all mammals for peaks from mouse, macaque, human, rat, bat, pig, and cow where human and macaque data come from revised human and macaque peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_nonTest_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/predictionsFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/predictionsFileNames_Boreoeutheria.txt

# Combine predictions for all mammals for peaks from all mouse, macaque, human, rat, bat, pig, and cow where human and macaque data come from revised human and macaque peaks
cat /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_multiSpeciesModel_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanDNase/PMC/cromwell-executions/atac/45c4bd8c-c055-4cea-80c9-5ec0eeaf8024/call-reproducibility_idr/execution/LiftedPeaks/optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MacaqueAtac/OfM/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_GenBankNames_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/RatAtac/M1_AllReps/peak/idr_reproducibility/LiftedPeaks/idr.optimal_peak.inStriatum_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/BatAtac/OfM/atac/53d877d5-fa53-4c55-9752-f4170029eda6/call-reproducibility_idr/execution/idr.optimal_peak.inM1AndStriatum_nonCDS_enhancerShort_200MBat_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/PigDNase/Cortex/atac/245e03d8-5efe-4b06-8f4e-8a1ca8175ed1/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/CowDNase/Cortex_GoodReps/peak/idr_reproducibility/idr.optimal_peak_nonCDS_enhancerShort_peakPredictions.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow.txt
cut -f1-44,46-48,52-62,64-72,74-75,77-99,101-116,118-132,134-153,155-169,171-217,219-221,223-224,226-236 /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/Cortex_AgeB_ATAC_out_ppr.IDR0.1.filt.inAgeBAndStriatum_enhancerShort_peakPredictionsHumanMouseMacaqueRat_peaksMouseHumanPlusMacaquePlusRatBatPigCow_Boreoeutheria.txt
sed -n '1,43p; 45,47p; 51,61p; 63,71p; 73,74p; 76,98p; 100,115p; 117,131p; 133,152p; 154,168p; 170,216p; 218,220p; 222,223p; 225,235p' /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/predictionsMultiSpeciesModelFileNames.txt > /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseDNase/Cortex_AgeB_ATAC_out/peak/macs2/idr/optimal_set/predictionsFileNames_Boreoeutheria.txt

# Run MEME-ChIP on human and mouse clusters
fastaFromBed -fi /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/HumanGenome/hg38.fa -bed /projects/pfenninggroup/batLongevity/allHumanClusters.bed -fo /projects/pfenninggroup/batLongevity/allHumanClusters.fa
meme-chip -o /projects/pfenninggroup/batLongevity/allHumanClusters.MemeChipResults -db /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MotifData/motif_databases/CIS-BP/Homo_sapiens.meme -meme-maxw 50 -meme-nmotifs 10 -fimo-skip -spamo-skip /projects/pfenninggroup/batLongevity/allHumanClusters.fa
fastaFromBed -fi /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MouseGenome/mm10.fa -bed /projects/pfenninggroup/batLongevity/allMouseClusters.bed -fo /projects/pfenninggroup/batLongevity/allMouseClusters.fa
meme-chip -o /projects/pfenninggroup/batLongevity/allMouseClusters.MemeChipResults -meme-maxw 50 -meme-nmotifs 10 -db /projects/pfenninggroup/machineLearningForComputationalBiology/regElEvoGrant/MotifData/motif_databases/CIS-BP/Mus_musculus.meme -fimo-skip -spamo-skip /projects/pfenninggroup/batLongevity/allMouseClusters.fa